# menoh-examples
*Non*-adversarial code examples in menoh-java.

## Requirements
See the ["Installation"](../README.md#installation) section in README.

## Setup
You need to run the following to install `menoh` package to the local repository before executing examples.

```bash
$ git clone https://github.com/pfnet-research/menoh-java.git
$ cd menoh-java
$ mvn install
```

## Usage

### VGG16
Classify an input image by using VGG16, a CNN-based pre-trained model. See the [Menoh tutorial](https://pfnet-research.github.io/menoh/md_tutorial.html) for the details.

```bash
$ cd menoh-examples
$ mvn compile
$ mkdir data
$ wget -qN -P data/ https://upload.wikimedia.org/wikipedia/commons/5/54/Light_sussex_hen.jpg

$ mvn exec:java -Dexec.mainClass=jp.preferred.menoh.examples.Vgg16 -Dexec.args="data/Light_sussex_hen.jpg"
...

-21.302792 -34.792274 -11.198693 23.983116 0.8887066 -6.290651 -26.45818 -24.885696 -4.925243 14.338675
top 5  categories are
index: 8, score: 0.9705545, category: n01514859 hen
index: 7, score: 0.028219773, category: n01514668 cock
index: 86, score: 9.522993E-4, category: n01807496 partridge
index: 82, score: 1.6639252E-4, category: n01797886 ruffed grouse, partridge, Bonasa umbellus
index: 97, score: 2.0030011E-5, category: n01847000 drake
```

## License
`menoh-examples` package uses `VGG16.onnx`. It is generated by [ONNX-Chainer](https://github.com/chainer/onnx-chainer) from the pre-trained model which is available from the [website](http://www.robots.ox.ac.uk/~vgg/research/very_deep/) of Visual Geometry Group from University of Oxford under [Creative Commons Attribution License](https://creativecommons.org/licenses/by/4.0/).
